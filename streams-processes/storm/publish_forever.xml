<application>


    <property name="infile" value="/Users/kai/fact_phido/cta/" />

    <stream id="cta:data_${copy.id}" class="streams.cta.io.RecursiveDirectoryStream"
            suffix=".kryo" url="file:${infile}" copies="${num_copies}" multiply="400">
        <stream id="cta:data" class="streams.cta.io.KryoStream"/>
    </stream>

    <property name="num_copies" value="1" />


    <process input="cta:data_${copy.id}" copies="${num_copies}" >
        <streams.DataRate every="100" />
        <Delay time="5ms" />
        <streams.cta.io.protobuf.ProtoEventPublisher addresses="tcp://*:5558" />
        <!--<Skip condition="%{data.@datarate} == null" />-->
            <!--<streams.cta.io.JSONWriter url="file:./performance_publish_protobuf.json" keys="@datarate,@packetSize" writeblock="true"/>-->
    </process>



</application>